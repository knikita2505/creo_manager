# Task: YouTube Upload (MVP)

## Цель
Реализовать блок пакетной загрузки видео на YouTube с очисткой метаданных, уникализацией и опциональной генерацией дополнительных ориентаций. Обеспечить запись результатов в БД и отображение статусов в UI.

## Объём задачи (что должно быть)
1) Приём нескольких видеофайлов от пользователя (локально; импорт из Drive — только если интеграция подключена).
2) Создание записей об исходниках и их версиях в БД.
3) Очистка метаданных + уникализация для каждой загружаемой версии.
4) Опционально по выбору пользователя: генерация недостающих ориентаций (square / portrait / landscape).
5) Загрузка каждой версии на YouTube со статусом `unlisted`.
6) **Изменение миниатюры (thumbnail) — отдельно, по желанию**: отдельный вызов после завершения загрузки.
7) Возврат сгруппированного результата по исходному видео: список YouTube URL на каждую версию.
8) UI-таблица загрузок: название, ориентация, длительность, дата/время, статус (успех/ошибка), ссылка.
9) Возможность повторной попытки для неуспешных загрузок (per-версия).

## Поведение и состояния
- Статусы обработки/загрузки: `queued` → `processing` → `success` / `error`.
- Группировка записей по исходному видео с раскрытием версий.
- Валидация форматов и понятные сообщения об ошибках.
- Не блокировать интерфейс при пакетной обработке (асинхронно).
- Лимит параллельных загрузок настраиваемый.

## Данные и связки (ожидаемые записи)
- `source_assets`: на каждый исходный файл.
- `video_versions`: на каждую получившуюся версию (включая опциональные ориентации).
- `youtube_uploads`: на каждую фактическую загрузку (ID, URL, статус, время).
- (миниатюра меняется отдельным действием после загрузки и фиксируется там же)

## Выходные данные (ответ на операцию)
- По каждому исходному видео — массив версий с полями: ориентация, статус, youtube_url (если успех), сообщение об ошибке (если неуспех).

## Критерии приёмки
- Можно разом загрузить ≥3 видео; у каждого созданы версии согласно выбору пользователя (ориентации — только если включены).
- Для всех версий произведена очистка метаданных и уникализация.
- Все успешные версии загружены на YouTube со статусом `unlisted`, их URL возвращены и отображены в UI.
- Ошибочные версии видны с понятным статусом и текстом причины; доступна повторная попытка.
- Миниатюра не меняется автоматически: её можно установить **только** отдельным действием после успеха загрузки.
- Все записи корректно присутствуют в `source_assets`, `video_versions`, `youtube_uploads`.
