# Task: Integrations Setup (MVP)

## Цель
Реализовать модуль подключения и управления интеграциями: YouTube, Google Drive, Google Ads и Telegram.  
Пользователь должен иметь возможность подключить/отключить сервисы, проверить соединение и хранить настройки в зашифрованном виде.

## Объём задачи (что должно быть)
1) Экран “Интеграции” в интерфейсе с блоками:
   - YouTube
   - Google Drive
   - Google Ads
   - Telegram
2) Для каждого сервиса:
   - Кнопка **«Подключить»** (OAuth / API ключ);
   - Отображение текущего состояния: `Не подключено` / `Активно` / `Ошибка`;
   - Кнопка **«Отключить»**.
3) После успешного подключения — запись в БД (`integrations`) с типом, токенами и временем создания.
4) При повторном входе — подгрузка и отображение актуального состояния интеграций.
5) Возможность **проверить соединение** (тестовый запрос к API сервиса) — возвращает статус `OK` или `Ошибка`.
6) Telegram — используется только для уведомлений, поэтому:
   - Настраивается бот-токен;
   - Проверяется отправка тестового сообщения.
7) Все ключи и токены хранятся зашифрованно и не видны пользователю после сохранения.

## Поведение и состояния
- При успешной авторизации — статус `Активно`, зелёная метка.
- При сбое в токене / истечении срока — статус `Ошибка`, красная метка.
- Кнопка `Переподключить` при невалидном токене.
- Все изменения фиксируются мгновенно и без перезагрузки страницы.
- Состояние всех интеграций обновляется автоматически при входе в систему.

## Данные и связки (ожидаемые записи)
- Таблица `integrations`
  - `user_id`
  - `kind` (`youtube`, `gdrive`, `gads`, `telegram`)
  - `auth_data` (зашифрованный JSON)
  - `is_valid`
  - `created_at`

## Выходные данные (ответ на операции)
- При подключении: `{ kind, status: "connected", created_at }`
- При отключении: `{ kind, status: "disconnected" }`
- При проверке: `{ kind, status: "ok" | "error", message? }`

## Критерии приёмки
- Все четыре интеграции отображаются на экране с понятным статусом и визуальной меткой.
- Можно подключить/отключить каждую отдельно.
- При успешном подключении создаётся запись в `integrations`.
- Проверка соединения возвращает корректный статус (`OK` / `Ошибка`).
- Telegram-бот успешно отправляет тестовое сообщение пользователю.
- Ошибки подключения отображаются в UI в явном виде.
- Все токены сохраняются в шифрованном виде и не раскрываются в ответах API.
